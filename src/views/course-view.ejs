<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course content</title>
    <link rel="stylesheet" href="/styles/globals.css">
    <link rel="stylesheet" href="/styles/fonts.css">
    <link rel="stylesheet" href="/styles/header.css">
    <link rel="stylesheet" href="/styles/breadcrumb.css">
    <link rel="stylesheet" href="/styles/course-view.css">
</head>
<body>
    <%- include('layout/header.ejs', { user: user }) %>
    <div class="container">
       <div class="breadcrumb">
            <a class="breadcrumb__item" href="/courses">
                Course
            </a>
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 3H8.48044L15.0334 9.71727L8.50119 16.3333H5.00119L11.5334 9.71727L5 3Z"/>
            </svg>
            <span class="breadcrumb__item">
                <%= course.title %>
            </span>
       </div>

       <div class="wrapper">
            <div class="course__content">
                <div class="course__video">
                    <video controls width="100%" src="/static/<%= section.file_id %>">
                    </video>
                </div>

                <section class="course__section">
                    <div class="section__meta">
                        <div class="section__title">
                            <%= section.title %>
                        </div>
                        <div class="section__description">
                            <%= section.description %>
                        </div>
                    </div>

                    <div class="section__files">
                        <% sectionAdditionals.forEach(file => { %>
                            <div class="file__meta">
                                <div class="file__title">
                                    <%= file.title %>
                                </div>
                                <div class="file__actions">
                                    <button class="file__action--download" id="<%= file.file_id %>">
                                        <span>
                                            View file
                                        </span>
                                        
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M15.9999 12C15.9999 14.2091 14.209 16 11.9999 16C9.79074 16 7.99988 14.2091 7.99988 12C7.99988 9.79086 9.79074 8 11.9999 8C14.209 8 15.9999 9.79086 15.9999 12ZM13.9999 12C13.9999 13.1046 13.1044 14 11.9999 14C10.8953 14 9.99988 13.1046 9.99988 12C9.99988 10.8954 10.8953 10 11.9999 10C13.1044 10 13.9999 10.8954 13.9999 12Z" fill="white"/>
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.9999 3C17.5914 3 22.2897 6.82432 23.6218 12C22.2897 17.1757 17.5914 21 11.9999 21C6.40836 21 1.71006 17.1757 0.37793 12C1.71006 6.82432 6.40836 3 11.9999 3ZM11.9999 19C7.52431 19 3.7312 16.0581 2.45711 12C3.7312 7.94186 7.52431 5 11.9999 5C16.4754 5 20.2686 7.94186 21.5426 12C20.2686 16.0581 16.4754 19 11.9999 19Z" fill="white"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        <% }) %>
                    </div>
                </section>
            </div>

            <div class="course__sections">
                <% sections.forEach(section => { %>
                    <a class="section" href="/courses/<%= course.id %>/<%= section.id %>">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="10" r="10" fill="#FFA763"/>
                            <mask id="mask0_526_1075" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="20">
                            <rect width="20" height="20" fill="#D9D9D9"/>
                            </mask>
                            <g mask="url(#mask0_526_1075)">
                            <path d="M8.33439 11.3333L13.2511 6.41667C13.4038 6.26389 13.5983 6.1875 13.8344 6.1875C14.0705 6.1875 14.2649 6.26389 14.4177 6.41667C14.5705 6.56944 14.6469 6.76389 14.6469 7C14.6469 7.23611 14.5705 7.43056 14.4177 7.58333L8.91772 13.0833C8.75106 13.25 8.55661 13.3333 8.33439 13.3333C8.11217 13.3333 7.91772 13.25 7.75106 13.0833L5.58439 10.9167C5.43161 10.7639 5.35522 10.5694 5.35522 10.3333C5.35522 10.0972 5.43161 9.90278 5.58439 9.75C5.73717 9.59722 5.93161 9.52083 6.16772 9.52083C6.40384 9.52083 6.59828 9.59722 6.75106 9.75L8.33439 11.3333Z" fill="#083345"/>
                            </g>
                        </svg>
                        <div class="section__title">
                            <%= section.title %>
                        </div>
                    </a>
                <% }) %>
            </div>
       </div>
    </div>
    <script src="/scripts/course-view.js"></script>
</body>
</html>
